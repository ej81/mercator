{"name":"Mercator","tagline":"","body":"# Spherical Mercator projection for matplotlib\r\n\r\n## Prerequisites\r\n1. matplotlib [http://matplotlib.org]\r\n2. numpy [http://numpy.org]\r\n3. pyshp [https://github.com/GeospatialPython/pyshp]\r\n4. gdal (optional, for clipping shapefiles)\r\n\r\n## Installation\r\nAn installation script is not yet available. To install this package, just\r\ndownload the source with ```git clone https://github.com/ej81/mercator.git```.\r\nPlace the directory ```mercator/``` directly inside the project that you are\r\nworking on or set the environment variable ```$PYTHONPATH``` to point to it.\r\n\r\nFor example:\r\n```\r\nmkdir $HOME/python\r\ncd $HOME/python\r\ngit clone https://github.com/ej81/mercator.git\r\nexport PYTHONPATH=$HOME/python:$PYTHONPATH\r\n```\r\n\r\n## Map data\r\nIn order to display the coastline in your figures, you need to download the\r\nGSHHS database in ESRI shapefile format from\r\n[http://www.soest.hawaii.edu/pwessel/gshhg/]. The files should be placed inside\r\nthe package directory in the subdirectory `data/`. \r\n\r\nIf you are only interested in a small region, performance can be increased by\r\nclipping the shapefiles to roughly the correct area. For example for the\r\nMediterranean Sea you can do:\r\n\r\n```\r\nfor res in f h l i c; do\r\n  ogr2ogr medsea_${res}.shp ${res}/GSHHS_${res}_L1.shp -clipsrc -20 15 50 60\r\ndone\r\n```\r\n\r\nThen you can do ```ax.coastline('medsea_f.shp')``` instead of\r\n```ax.coastline('GSHHS_f_L1.shp')```. Especially for the higher resolutions\r\nthis should make a big difference.\r\n\r\n## Examples\r\n\r\n### Plotting locations on a map\r\nCreate a file ```places.txt``` with your favourite cities:\r\n```\r\n# latitude,longitude,name\r\n52.366667,4.9,Amsterdam\r\n51.507222,-0.1275,London\r\n48.8567,2.3508,Paris\r\n52.516667,13.383333,Berlin\r\n```\r\nThen run the following code to plot:\r\n```\r\nimport mercator\r\nimport numpy as np\r\nimport matplotlib.pyplot as plt\r\n\r\nfig = plt.figure(facecolor='white')\r\naxes = plt.axes(projection='mercator', minutes=True)\r\naxes.coastline('GSHHS_i_L1.shp')\r\nfig.add_axes(axes)\r\n\r\nplt.title(\"Places where I've been\")\r\n\r\ndata = np.genfromtxt('places.txt', delimiter=',', usecols=(0,1,2), dtype=None)\r\nfor lat, lon, name in data:\r\n    plt.plot(lon, lat, 'r', marker=mercator.marker.pin, ms=25)\r\n    plt.annotate(name, xy=[lon,lat], xytext=(0, -15),\r\n                 textcoords='offset points', ha='center')\r\n\r\nplt.savefig('places.pdf')\r\nplt.show()\r\n```\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}